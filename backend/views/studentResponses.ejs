<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <meta charset="utf-8">
        <link rel="stylesheet" href="/css/bootstrap.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <!-- Font Awesome File -->
        <link rel="stylesheet" href="/fonts/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.2.0/aos.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css">
        <link rel="stylesheet" href="/css/bootstrap.min.css">
        <link rel="stylesheet" href="/css/style2.css">
        <title></title>
    </head>
    <body>
        <nav class="navbar navbar-light navbar-expand-lg fixed-top" id="mainNav" style="background-color: #ffffff;">
            <div class="container">
            	<a class="navbar-brand js-scroll-trigger" href="/" style="color: rgb(238,75,40); font-weight:700;">H.I.M</a>
            	<button data-toggle="collapse" data-target="#navbarResponsive" class="navbar-toggler navbar-toggler-right" type="button" aria-controls="navbarResponsive"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa fa-align-justify"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item" role="presentation">
                        	<a class="nav-link js-scroll-trigger" href="#" style="color: rgb(0,0,0); font-weight:700;"><%= Student_details.username %></a>
                        </li>
                        <li class="nav-item" role="presentation">
                        	<a class="nav-link js-scroll-trigger" href="/login" style="color: rgb(0,0,0); font-weight:700;">Logout</a>
                        </li>
                        <li class="nav-item" role="presentation"></li>
                        <li class="nav-item" role="presentation"></li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container">
            <div style="background: url(/img/1.jpg);background-repeat: no-repeat;background-size: cover;border-radius: 50px; margin-bottom:50px;">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="jumbotron" style="margin-left:25px">
                          <h2>SID: <%= Form1[0].Sid %></h2>
                          <hr class="my-4">
                          <p>Username: <%= Student_details.username %></p>
                          <p>Email: <%= Student_details.Email %></p>
                          <p>Phone: <%= Student_details.Phone %></p>
                          <p>Branch: <%= Student_details.Branch %></p>
                          <p>Guardian Name: <%= Student_details.Guardian_name %></p>
                          <p>Guardian Phone: <%= Student_details.Guardian_phone %></p>
                        </div>
                    </div>
                    <div class="col-lg-8" style="margin-top:70px;">
                        <canvas id="myChart2" style="background: white;padding:30px;border-radius:50px;"></canvas>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <canvas id="myChart" style="background: white; margin-bottom:20px;padding:30px;border-radius:50px;"></canvas>
                </div>
            </div>
        </div>

        <script>
            const responses = '<%- JSON.stringify(Form1[0].response) %>';
            const student_responses = JSON.parse(responses);
            const responses2 = '<%- JSON.stringify(Form2[0].response) %>';
            const student_responses2 = JSON.parse(responses2);
            const responses3 = '<%- JSON.stringify(Form3[0].response) %>';
            const student_responses3 = JSON.parse(responses3);
            const temp_data1 = [];
            for(var i = 0;i<student_responses.length;i++)
            {
                if(student_responses[i]==="op0")
                {
                    temp_data1.push(1);
                }
                if(student_responses[i]==="op1")
                {
                    temp_data1.push(2);
                }
                if(student_responses[i]==="op2")
                {
                    temp_data1.push(3);
                }
                if(student_responses[i]==="op3")
                {
                    temp_data1.push(4);
                }
            }
            for(var i = 0;i<student_responses2.length;i++)
            {
                if(student_responses2[i]==="op0")
                {
                    temp_data1.push(1);
                }
                if(student_responses2[i]==="op1")
                {
                    temp_data1.push(2);
                }
                if(student_responses2[i]==="op2")
                {
                    temp_data1.push(3);
                }
                if(student_responses2[i]==="op3")
                {
                    temp_data1.push(4);
                }
            }
            for(var i = 0;i<student_responses3.length;i++)
            {
                if(student_responses3[i]==="op0")
                {
                    temp_data1.push(1);
                }
                if(student_responses3[i]==="op1")
                {
                    temp_data1.push(2);
                }
                if(student_responses3[i]==="op2")
                {
                    temp_data1.push(3);
                }
                if(student_responses3[i]==="op3")
                {
                    temp_data1.push(4);
                }
            }


            var score = 10;
            for(var i=0;i<temp_data1.length;i++)
            {
                score += temp_data1[i];
            }
            score = (score/42);
            const label = [];
            for(var i=0;i<42;i++){
                label.push(i+1);
            }


            var ctx = document.getElementById('myChart');
            var myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: label,
                    datasets: [{
                        label: 'Student Response',
                        data: temp_data1,
                        backgroundColor: [
                            'rgba(255, 244, 2, 0.2)',
                        ],
                        borderColor: [
                            'rgba(238, 75, 40, 1)',
                        ],
                        borderWidth: 2,
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });

            var ctx2 = document.getElementById('myChart2');
            var myChart2 = new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: ['JAN','FEB','MAR','APR','MAY','JUN','JUL','AUG','SEP','OCT','NOV','DEC'],
                    datasets: [{
                        label: 'H.I.M. Index Score',
                        data: [0,0,0,0,0,0,0,0,0,score,0,0,4],
                        backgroundColor: [
                            'rgba(255, 244, 2, 2)',
                        ],
                        borderColor: [
                            'rgba(238, 75, 40, 1)',
                        ],
                        borderWidth: 2,
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });
        </script>

            <script src="/js/validation.js" charset="utf-8"></script>
            <script src="/js/jquery.min.js"></script>
            <script src="/bootstrap/js/bootstrap.min.js"></script>
            <script src="/js/bs-init.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.2.0/aos.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
            <script src="/js/creative.js"></script>
    </body>
</html>
